{
    "collab_server" : "",
    "contents" : "---\ntitle: \"Field posting questionnaire analysis\"\nauthor: \"Offa field posting group\"\ndate: \"November 1, 2016\"\noutput: ioslides_presentation\n---\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)\n```\n\n```{r, \"prelim\"}\nlibrary(tidyverse)\nlibrary(readxl)\nlibrary(stringr)\nlibrary(plotly)\n\nraw_data <- read_excel(\"field_posting.xlsx\", sheet = 1, col_names = TRUE)\n```\n\n```{r, \"my functions\"}\nmy_function <- function(x) {\n  data <- enframe(table(x))\n  data$value <- as.integer(data$value)\n  data <-  mutate(data, prop = str_c(round(value / 59 * 100, digits = 2), \"%\"))\n}\n\nmy_geom <- function() {\n  geom_bar(fill = \"lightblue\", width = 1/2, stat = \"identity\") \n}\n\nmy_text <- function() {\n  geom_text(aes(label = proportion), nudge_y = 1, size = 3)\n}\n```\n\n\n## plot1\n\n```{r, \"age\"}\nage <- cut_interval(raw_data$age, length = 10)\nage <- my_function(age) %>%\n  mutate(class = c(\"11-20\", \"21-30\", \"31-40\", \"41-50\", \"51-60\", \"61-70\",\n                   \"71-80\", \"81-90\", \"91-100\"))\nnames(age) <- c(\"cut\", \"frequency\", \"proportion\", \"age_group\")\n\n\nplot1 <-ggplot(age, aes(x = age_group, y = frequency)) + \nmy_geom() +\n  theme_light() +\n  my_text() +\n  labs(x = \"age-group\",\n    title = \"age-distribution of the people of Igbawere community\") +\n  scale_y_continuous(breaks = seq(0, 14, by = 2))\n  \n\nggplotly(plot1)\n```\n\n## plot2\n\n```{r, \"religion\"}\nrelig <- my_function(raw_data$religion)\nnames(relig) <- c(\"religion\", \"frequency\", \"proportion\")\n\nplot2 <- ggplot(relig, aes(x = religion, y = frequency)) +\n  my_geom() +\n  my_text() +\n  theme_light() + \n  labs(title = \"distribution of religion among the people of Igbawere Community\")\n\nggplotly(plot2)\n```\n\n## plot3\n\n```{r, \"tribe\"}\n\ntribe <- my_function(raw_data$tribe)\nnames(tribe) <- c(\"tribe\", \"frequency\", \"proportion\")\n\nplot3 <- ggplot(tribe, aes(x = tribe, y = frequency)) + \n  my_geom() + \n  my_text() +\n  theme_light() +\n  labs(title = \"tribes of people of Igbawere community\")\nggplotly(plot3)\n```\n\n\n## plot4\n\n```{r, \"sex\"}\nsex <- my_function(raw_data$sex)\nnames(sex) <- c(\"sex\", \"frequency\", \"proportion\")\n\nplot4 <- ggplot(sex, aes(x = sex, y = frequency)) + \n  my_geom() + \n  my_text() +\n  theme_light() +\n  labs(title = \"sex distribution of people of Igbawere community\")\nggplotly(plot4)\n```\n\n## plot5\n```{r, \"qualifications\"}\nqual <- my_function(raw_data$qualification)\nnames(qual) <- c(\"qualification\", \"frequency\", \"proportion\")\n\nplot5 <- ggplot(qual, aes(x = qualification, y = frequency)) + \n  my_geom() + \n  my_text() +\n  theme_light() +\n  labs(title = \" qualifications of people of Igbawere community\") + \n  scale_y_continuous(breaks = seq(0, 35, by = 5))\nggplotly(plot5)\n```\n\n\n## plot 6\n```{r, \"marital\"}\nmarital <- my_function(raw_data$marital_status)\nnames(marital) <- c(\"marital_status\", \"frequency\", \"proportion\")\nmarital$marital_status <- factor(marital$marital_status, \n                                 levels = c(\"single\", \"married\", \"divorced\", \"widowed\"),\n                                 ordered = TRUE)\n\nplot6 <- ggplot(marital, aes(x = marital_status, y = frequency)) + \n  my_geom() + \n  my_text() +\n  theme_light() +\n  labs(x = \"marital status\",\n    title = \" martial status of people of Igbawere community\")\nggplotly(plot6)\n  \n```\n\n## plot7\n\n```{r, \"family_pattern\"}\nfamily_pat <- select(raw_data, family_pattern)\nfamily_pat <- filter(family_pat, family_pattern == \"monogamy\" | family_pattern == \"polygamy\")\n\nfamily_pat <- my_function(family_pat)\nnames(family_pat) <- c(\"family_pattern\", \"frequency\", \"proportion\")\n\nplot7 <- ggplot(family_pat, aes(x = family_pattern, y = frequency)) + \n  my_geom() + \n  my_text() +\n  theme_light() +\n  labs(x = \"family pattern\",\n       title = \"family pattern of people of Igbawere community\") +\n  scale_y_continuous(breaks = seq(0, 30, by = 5))\n\nggplotly(plot7)\n\n```\n\n## plot8\n```{r, \"children\"}\nraw_data$children <- as.integer(raw_data$children, na.rm = TRUE)\nchild <- enframe(summary(raw_data$children, na.rm = TRUE))\nnames(child) <- c(\"summary\", \"value\")\nknitr::kable(child, caption = \"summary of number of children of people of Igbawere community\")\n```\n\n## plot 9\n```{r, \"occupation\"}\noccupation <- my_function(raw_data$occupation)\nnames(occupation) <- c(\"occupation\", \"frequency\", \"proportion\")\noccupation <- filter(occupation, occupation != \"none\")\n\nplot8 <- ggplot(occupation, aes(x = factor(occupation, \n                                           levels = c(\"artisan\", \"farming\", \"trading\", \"student\", \n                                                      ordered = TRUE)), y = frequency)) + \n  my_geom() + \n  my_text() +\n  theme_light() +\n  labs(x = \"occupation\",\n       title = \"occupation of people of Igbawere community\")\nggplotly(plot8)\n```\n\n## plot10\n\n```{r, \"sewage\"}\nsewage <- my_function(raw_data$sewage_disposal)\nnames(sewage) <- c(\"type\", \"frequency\", \"proportion\")\n\nplot9 <- ggplot(sewage, aes(x = type, y = frequency)) + \n  my_geom() + \n  my_text() +\n  theme_light() +\n  labs(title = \"method of sewage disposal of people of Igbawere community\")\n\nggplotly(plot9)\n```\n\n## plot 11\n```{r, \"refuse\"}\nrefuse <- my_function(raw_data$refuse_disposal)\nnames(refuse) <- c(\"type\", \"frequency\", \"proportion\")\n\nplot10 <- ggplot(refuse, aes(x = type, y = frequency)) + \n  my_geom() + \n  my_text() +\n  theme_light() +\n  labs(title = \"method of refuse disposal of people of Igbawere community\")\n\nggplotly(plot10)\n```\n\n## plot 12\n```{r, \"fuel\"}\nfuel <- my_function(raw_data$source_of_cooking_fuel)\nnames(fuel) <- c(\"source_of_fuel\", \"frequency\", \"proportion\")\n\nplot11 <- ggplot(fuel, aes(x = source_of_fuel, y = frequency)) + \n  my_geom() + \n  my_text() +\n  theme_light() +\n  labs(x = \"source of fuel\",\n    title = \"source of cooking fuel of people of Igbawere community\")\n\nggplotly(plot11)\n```\n\n\n\n\n\n\n\n",
    "created" : 1480506882634.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "211362929",
    "id" : "D931E64D",
    "lastKnownWriteTime" : 1480506934,
    "last_content_update" : 1480506935191,
    "path" : "C:/Users/stbal/Desktop/field_posting/field_posting_analysis.Rmd",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 5,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}